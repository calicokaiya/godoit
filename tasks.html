<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Pro Golang Coding</title>
  <link rel="stylesheet" href="/static/styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="static/main.js"></script>
</head>

<body>
  <nav>
    <ul>
      <li><a href="/login">Login</a></li>
      <li><a href="/register">Register</a></li>
      <li><a href="/logout">Logout</a></li>
      <li><a href="/tasks">Tasks</a></li>
      <li><a href="/about">About</a></li>
    </ul>
  </nav>
  <div class="container">
    <h1>These are your tasks</h1>
    <table>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Due Date</th>
        <th>Actions</th>
      </tr>

      {{range .Tasks}}
      <tr id="{{.Id}}">
        <td>{{.Title}}</td>
        <td>{{.Description}}</td>
        <td>{{.DueDate}}</td>
        <td>
          <button type="button" class="btn btn-danger deleteButton" data-task-id="{{.Id}}">Delete task</button>
          <button type="button" class="btn btn-primary updateButton" data-task-id="{{.Id}}">Update task</button>
        </td>
      </tr>
      {{end}}
    </table>

    <!-- Modal for update -->
    <div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <!-- Modal content -->
          <form id="updateTaskForm">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Update Task</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label for="recipient-name" class="col-form-label">Title:</label>
                <input type="text" class="form-control" id="recipient-name" name="title">
                <label for="message-text" class="col-form-label">Description:</label>
                <textarea class="form-control" id="message-text" name="description"></textarea><br>
                <label for="dueDate" class="col-form-label">Due Date:</label>
                <input type="datetime-local" id="dueDate" name="dueDate">
              </div>
            </div>
            <div class="modal-footer">
              <input type="hidden" id="taskId" name="id">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <input type="submit" class="btn btn-primary" value="Update">
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="form-container">
      <h3>Create a task</h3>
      <form id="createTaskForm">
        <label for="title">Title</label>
        <input type="text" id="title" name="title" value="">

        <label for="description">Description</label>
        <input type="text" id="description" name="description" value="">

        <label for="dueDate">Due Date</label>
        <input type="datetime-local" id="dueDate" name="dueDate" value="">

        <input type="submit" value="Insert a task">
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
</body>

</html>